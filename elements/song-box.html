<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-toast/paper-toast.html">
<link rel="import" href="../bower_components/core-icons/av-icons.html">

<polymer-element name="song-box" attributes="filename">
	<template>
		<style>
			:host {
				display: block;
				position: relative;
				background-color: white;
				box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.2);
				padding: 20px;
				width: 100%;
				font-size: 1.2rem;
				font-weight: 300;
			}
			
			.song-header {
				margin-bottom: 10px;
			}

			polyfill-next-selector { content: '.song-header div h1'; }
			.song-header ::content div h1 {
				margin: 0;
				font-size: 1.8rem;
				font-weight: 300;
				z-index: 2;
			}
			
			polyfill-next-selector { content: '.song-header div h2'; }
			.song-header ::content div h2 {
				margin: 0;
				font-size: 1.2rem;
				font-weight: 300;
				z-index: 2;
			}
			
			polyfill-next-selector { content: '.song-header div h3'; }
			.song-header ::content div h3 {
				margin: 0;
				font-size: 1rem;
				font-weight: 200;
				z-index: 2;
			}
			
			polyfill-next-selector { content: '.song-header img'; }
			.song-header ::content img {
				width: 70px;
				height: 70px;
				border-radius: 50%;
				margin: 10px;
			}
			
			#buttons {
				position: absolute;	
				top: calc(100% - 50px);
				right: 8px;
				color: #636363;
			}
            
            paper-icon-button {
                vertical-align: middle;
            } 

            paper-icon-button.hover:hover {
                background: #eee;
                border-radius: 50%;
            }
		</style>
		
		<div class="song-header" layout horizontal center>
			<content select="img"></content>
			<content select="div"></content>
		</div>
	
		<div id="buttons">
            <a href="/media{{filename}}" style="text-decoration:none;color:inherit;" target="_blank">
                <core-tooltip label="You may need to Right-Click, \"Save As...\"" class="fancy" role="tooltip">
                    <paper-icon-button class="hover" icon="file-download"></paper-icon-button>
                </core-tooltip>
            </a>
			<paper-icon-button id="control" class="hover" icon="{{icon}}" onclick="{{onClick}}"></paper-icon-button>
		</div>
		
		<content></content>
	</template>
	
	<script>
		Polymer('song-box', {
            icon: "av:play-arrow",
            onClick: function() {
                document.querySelector('song-box').icon = 'av:pause';
                this.fire('play', {title: 'song name'});
            }
        });
	</script>
</polymer-element>